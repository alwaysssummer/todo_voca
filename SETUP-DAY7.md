# Day 7 ì™„ë£Œ: ì¼ì¼ ëª©í‘œ ë‹¬ì„± ê¸°ëŠ¥ âœ…

## ğŸ“¦ ì™„ë£Œëœ ì‘ì—…

### 1. âœ… ëª©í‘œ ë‹¬ì„± ê°ì§€ ë¡œì§
- **ìœ„ì¹˜**: `hooks/useStudySession.ts`
- **ë¡œì§**: 
  ```typescript
  if (newToday >= progress.goal) {
    // ì™„ì„± ë‹¨ì–´ì¥ ìƒì„±
    const result = await createCompletedWordlist()
    return { goalAchieved: true, completedWordlistData: result }
  }
  ```

### 2. âœ… ì¶•í•˜ ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸
- **íŒŒì¼**: `components/student/goal-achieved-modal.tsx`
- **ë””ìì¸**: 
  - ğŸ† Trophy ì•„ì´ì½˜ (ì• ë‹ˆë©”ì´ì…˜)
  - âœ¨ ë°˜ì§ì´ëŠ” íš¨ê³¼
  - Day ë²ˆí˜¸ + ì™„ë£Œ ê°œìˆ˜ í‘œì‹œ
  - í†µê³„ ë°°ì§€
  - ì˜¨ë¼ì¸ í‰ê°€ ì•ˆë‚´

### 3. âœ… ì™„ì„± ë‹¨ì–´ì¥ ìƒì„± ë¡œì§
- **ìœ„ì¹˜**: `hooks/useStudySession.ts` - `createCompletedWordlist()`
- **ì²˜ë¦¬ ìˆœì„œ**:
  1. ì˜¤ëŠ˜ ì™„ë£Œí•œ ë‹¨ì–´ ID ëª©ë¡ ì¡°íšŒ
  2. Day ë²ˆí˜¸ ìë™ ê³„ì‚°
  3. `completed_wordlists` í…Œì´ë¸”ì— INSERT
  4. ê²°ê³¼ ë°˜í™˜ (ID, Day ë²ˆí˜¸, ë‹¨ì–´ ê°œìˆ˜)

### 4. âœ… í•™ìŠµ í™”ë©´ì— ëª¨ë‹¬ í†µí•©
- **íŒŒì¼**: `components/student/study-screen.tsx`
- **í†µí•© ë‚´ìš©**:
  - ëª©í‘œ ë‹¬ì„± ì‹œ ì¶•í•˜ ëª¨ë‹¬ ìë™ í‘œì‹œ
  - ì™„ì„± ë‹¨ì–´ì¥ ë°ì´í„° ì €ì¥
  - ì˜¨ë¼ì¸ í‰ê°€ ì‹œì‘ ë²„íŠ¼
  - [ë‚˜ì¤‘ì— í•˜ê¸°] ì˜µì…˜

### 5. âœ… ì˜¨ë¼ì¸ í‰ê°€ ì•ˆë‚´
- **í˜„ì¬**: Alertë¡œ ì•ˆë‚´ (ë‹¤ìŒ ë‹¨ê³„ì—ì„œ ì‹¤ì œ êµ¬í˜„)
- **í‘œì‹œ ì •ë³´**:
  - í‰ê°€ ë¬¸í•­ ìˆ˜ (ì™„ë£Œ ê°œìˆ˜ì˜ 20%)
  - Day ë²ˆí˜¸
  - ì™„ì„± ë‹¨ì–´ì¥ ì•ˆë‚´

## ğŸ¨ ì¶•í•˜ ëª¨ë‹¬ ë””ìì¸

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             â”‚
â”‚         ğŸ†  âœ¨              â”‚  â† ì• ë‹ˆë©”ì´ì…˜
â”‚       (Trophy)              â”‚
â”‚                             â”‚
â”‚      ëª©í‘œ ë‹¬ì„±!              â”‚  â† í° ì œëª©
â”‚   ì˜¤ëŠ˜ 50ê°œ ë‹¨ì–´ë¥¼ ì™„ë£Œ       â”‚
â”‚                             â”‚
â”‚  [Day 1]  [50/50]          â”‚  â† ë°°ì§€
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ“– Day 1 ë‹¨ì–´ì¥ ì™„ì„±   â”‚  â”‚
â”‚  â”‚ ì™„ë£Œí•œ ë‹¨ì–´ë¥¼ ì˜¨ë¼ì¸    â”‚  â”‚
â”‚  â”‚ í‰ê°€ë¡œ í™•ì¸í•´ë³´ì„¸ìš”     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                             â”‚
â”‚  [ì˜¨ë¼ì¸ í‰ê°€ ì‹œì‘ â†’]       â”‚  â† ì£¼ ë²„íŠ¼
â”‚  [ë‚˜ì¤‘ì— í•˜ê¸°]              â”‚  â† ë³´ì¡° ë²„íŠ¼
â”‚                             â”‚
â”‚  í‰ê°€ëŠ” ì™„ë£Œí•œ 50ê°œ ì¤‘      â”‚
â”‚  10ê°œ ë‹¨ì–´ë¥¼ ë¬´ì‘ìœ„ë¡œ ì¶œì œ   â”‚  â† ì•ˆë‚´
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ í…ŒìŠ¤íŠ¸ ë°©ë²•

### ë°©ë²• 1: ì •ìƒ í”Œë¡œìš° (50ê°œ ì™„ë£Œ)

1. í•™ìŠµ í˜ì´ì§€ ì ‘ì†
   ```
   http://localhost:3000/s/10000000-0000-0000-0000-000000000002
   ```
   (ì´ì˜í¬ ê³„ì • - 0ê°œ ì™„ë£Œ ìƒíƒœ)

2. 50ê°œ ë‹¨ì–´ ì™„ë£Œí•˜ê¸°
   - ê° ë‹¨ì–´ì—ì„œ [ì•ˆë‹¤] ë²„íŠ¼ í´ë¦­
   - ì§„ë„ ì¦ê°€ í™•ì¸
   - ì™„ë£Œ ëª©ë¡ì— ì¶”ê°€ í™•ì¸

3. 50ë²ˆì§¸ ë‹¨ì–´ [ì•ˆë‹¤] í´ë¦­
   - **ì¶•í•˜ ëª¨ë‹¬ ìë™ í‘œì‹œ!** ğŸ‰

4. ëª¨ë‹¬ í™•ì¸:
   - Trophy ì•„ì´ì½˜ ì• ë‹ˆë©”ì´ì…˜
   - "ëª©í‘œ ë‹¬ì„±!" ë©”ì‹œì§€
   - Day ë²ˆí˜¸ (Day 1)
   - ì™„ë£Œ ê°œìˆ˜ (50/50)
   - ì˜¨ë¼ì¸ í‰ê°€ ì•ˆë‚´

5. ë²„íŠ¼ í…ŒìŠ¤íŠ¸:
   - [ì˜¨ë¼ì¸ í‰ê°€ ì‹œì‘] â†’ Alert í‘œì‹œ
   - [ë‚˜ì¤‘ì— í•˜ê¸°] â†’ ëª¨ë‹¬ ë‹«ê¸°

### ë°©ë²• 2: ë¹ ë¥¸ í…ŒìŠ¤íŠ¸ (ëª©í‘œ 10ê°œë¡œ ë³€ê²½)

ìƒ˜í”Œ ë°ì´í„°ì—ì„œ ì´ì˜í¬ì˜ `daily_goal`ì„ 10ìœ¼ë¡œ ë³€ê²½:

```sql
UPDATE users 
SET daily_goal = 10 
WHERE access_token = '10000000-0000-0000-0000-000000000002';
```

ê·¸ í›„ 10ê°œë§Œ ì™„ë£Œí•˜ë©´ ëª¨ë‹¬ í‘œì‹œ!

### ë°©ë²• 3: ë°ì´í„°ë² ì´ìŠ¤ í™•ì¸

ëª©í‘œ ë‹¬ì„± í›„ `completed_wordlists` í…Œì´ë¸” í™•ì¸:

```sql
SELECT * FROM completed_wordlists 
WHERE student_id = '10000000-0000-0000-0000-000000000002'
ORDER BY created_at DESC;
```

í™•ì¸ ì‚¬í•­:
- `day_number`: 1 (ì²« ì™„ì„± ë‹¨ì–´ì¥)
- `word_ids`: ì™„ë£Œí•œ ë‹¨ì–´ ID ë°°ì—´
- `completed_date`: ì˜¤ëŠ˜ ë‚ ì§œ
- `online_test_completed`: false

## ğŸ“Š í˜„ì¬ ìƒíƒœ

### êµ¬í˜„ ì™„ë£Œ âœ…
- [x] ëª©í‘œ ë‹¬ì„± ê°ì§€ (newToday >= goal)
- [x] ì¶•í•˜ ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸
- [x] ì™„ì„± ë‹¨ì–´ì¥ ìë™ ìƒì„±
- [x] Day ë²ˆí˜¸ ìë™ ê³„ì‚°
- [x] ì˜¨ë¼ì¸ í‰ê°€ ì•ˆë‚´
- [x] [ë‚˜ì¤‘ì— í•˜ê¸°] ì˜µì…˜

### Week 1 ì™„ë£Œ! ğŸŠ
```
Day 1-2: í™˜ê²½ ì„¤ì •           âœ…
Day 3-4: í•™ìŠµ í™”ë©´           âœ…
Day 5-6: Skip ëª¨ë‹¬           âœ…
Day 7: ì¼ì¼ ëª©í‘œ ë‹¬ì„±         âœ…

Week 1 ì§„í–‰ë¥ : 100% (4/4)
```

### ë‹¤ìŒ ë‹¨ê³„ (Week 2)
- [ ] Day 8-9: ì˜¨ë¼ì¸ í‰ê°€ êµ¬í˜„
- [ ] Day 10-11: ê°•ì‚¬ ëŒ€ì‹œë³´ë“œ
- [ ] Day 12-13: í•™ìƒ ê´€ë¦¬
- [ ] Day 14: í…ŒìŠ¤íŠ¸ ë° ë°°í¬

## ğŸ”§ ê¸°ìˆ  êµ¬í˜„ ìƒì„¸

### 1. ì™„ì„± ë‹¨ì–´ì¥ ìƒì„± ë¡œì§

```typescript
const createCompletedWordlist = async () => {
  // 1. ì˜¤ëŠ˜ ì™„ë£Œí•œ ë‹¨ì–´ ID ì¡°íšŒ
  const { data: progressData } = await supabase
    .from('student_word_progress')
    .select('word_id')
    .eq('student_id', student.id)
    .eq('status', 'completed')
    .eq('completed_date', today)
    .order('updated_at', { ascending: true })
    .limit(progress.goal)

  const wordIds = progressData?.map(p => p.word_id) || []

  // 2. Day ë²ˆí˜¸ ê³„ì‚°
  const { count } = await supabase
    .from('completed_wordlists')
    .select('*', { count: 'exact', head: true })
    .eq('student_id', student.id)
    .eq('wordlist_id', wordlistId)

  const dayNumber = (count || 0) + 1

  // 3. ì™„ì„± ë‹¨ì–´ì¥ ìƒì„±
  const { data: completedWordlist } = await supabase
    .from('completed_wordlists')
    .insert({
      student_id: student.id,
      wordlist_id: wordlistId,
      day_number: dayNumber,
      word_ids: wordIds,
      completed_date: today,
      online_test_completed: false
    })
    .select()
    .single()

  return { 
    completedWordlistId: completedWordlist.id, 
    dayNumber,
    wordCount: wordIds.length
  }
}
```

### 2. ëª©í‘œ ë‹¬ì„± í”Œë¡œìš°

```
[ì•ˆë‹¤] ë²„íŠ¼ í´ë¦­
    â†“
ì§„ë„ ì—…ë°ì´íŠ¸ (DB)
    â†“
ì™„ë£Œ ëª©ë¡ì— ì¶”ê°€ (UI)
    â†“
ì§„ë„ ì¹´ìš´íŠ¸ ì¦ê°€
    â†“
ëª©í‘œ ë‹¬ì„± ì²´í¬ (newToday >= goal)
    â†“
    â”œâ”€ No â†’ ë‹¤ìŒ ë‹¨ì–´ ë¡œë“œ
    â”‚
    â””â”€ Yes â†’ ì™„ì„± ë‹¨ì–´ì¥ ìƒì„±
               â†“
          ì™„ì„± ë‹¨ì–´ì¥ ë°ì´í„° ì €ì¥
               â†“
          ì¶•í•˜ ëª¨ë‹¬ í‘œì‹œ
               â†“
          [ì˜¨ë¼ì¸ í‰ê°€ ì‹œì‘] or [ë‚˜ì¤‘ì— í•˜ê¸°]
```

### 3. Day ë²ˆí˜¸ ê³„ì‚° ë¡œì§

```typescript
// ê¸°ì¡´ ì™„ì„± ë‹¨ì–´ì¥ ê°œìˆ˜ë¥¼ ì¹´ìš´íŠ¸
const { count } = await supabase
  .from('completed_wordlists')
  .select('*', { count: 'exact', head: true })
  .eq('student_id', student.id)
  .eq('wordlist_id', wordlistId)

// Day ë²ˆí˜¸ = ê¸°ì¡´ ê°œìˆ˜ + 1
const dayNumber = (count || 0) + 1

// ê²°ê³¼:
// - ì²« ì™„ì„± â†’ Day 1
// - ë‘ ë²ˆì§¸ â†’ Day 2
// - ì„¸ ë²ˆì§¸ â†’ Day 3
// ...
```

## ğŸ“ íŒŒì¼ ë³€ê²½ ì‚¬í•­

### ìƒˆë¡œ ìƒì„±ëœ íŒŒì¼
```
components/student/
  â””â”€ goal-achieved-modal.tsx    â† NEW! (ì¶•í•˜ ëª¨ë‹¬)

SETUP-DAY7.md                    â† NEW! (ê°€ì´ë“œ)
```

### ìˆ˜ì •ëœ íŒŒì¼
```
hooks/
  â””â”€ useStudySession.ts          â† UPDATED (ì™„ì„± ë‹¨ì–´ì¥ ìƒì„±)

components/student/
  â””â”€ study-screen.tsx            â† UPDATED (ëª¨ë‹¬ í†µí•©)
```

## ğŸ¯ ë°ì´í„° íë¦„

### completed_wordlists í…Œì´ë¸” êµ¬ì¡°

| í•„ë“œ | íƒ€ì… | ì„¤ëª… | ì˜ˆì‹œ |
|------|------|------|------|
| id | UUID | ì™„ì„± ë‹¨ì–´ì¥ ID | uuid... |
| student_id | UUID | í•™ìƒ ID | 10000000... |
| wordlist_id | UUID | ë‹¨ì–´ì¥ ID | 20000000... |
| day_number | INT | Day ë²ˆí˜¸ | 1, 2, 3... |
| word_ids | INT[] | ì™„ë£Œí•œ ë‹¨ì–´ ID ë°°ì—´ | [1,2,3...] |
| completed_date | DATE | ì™„ë£Œ ë‚ ì§œ | 2025-10-28 |
| online_test_completed | BOOL | ì˜¨ë¼ì¸ í‰ê°€ ì™„ë£Œ ì—¬ë¶€ | false |
| online_test_score | INT | ì˜¨ë¼ì¸ í‰ê°€ ì ìˆ˜ | NULL |

### ì˜ˆì‹œ ë°ì´í„°

```json
{
  "id": "uuid-abc-123",
  "student_id": "10000000-0000-0000-0000-000000000002",
  "wordlist_id": "20000000-0000-0000-0000-000000000001",
  "day_number": 1,
  "word_ids": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, ...],
  "completed_date": "2025-10-28",
  "online_test_completed": false,
  "online_test_score": null
}
```

## ğŸ› ì•Œë ¤ì§„ ì´ìŠˆ

### 1. ì˜¨ë¼ì¸ í‰ê°€ ë¯¸êµ¬í˜„
- **í˜„ì¬**: [ì˜¨ë¼ì¸ í‰ê°€ ì‹œì‘] ë²„íŠ¼ â†’ Alert í‘œì‹œ
- **ì˜ˆì •**: Day 8-9ì—ì„œ ì‹¤ì œ í‰ê°€ í™”ë©´ êµ¬í˜„

### 2. ì™„ì„± ë‹¨ì–´ì¥ ë³´ê¸° ë¯¸êµ¬í˜„
- **í˜„ì¬**: ì™„ì„± ë‹¨ì–´ì¥ ìƒì„±ë§Œ ê°€ëŠ¥
- **ì˜ˆì •**: Phase 2ì—ì„œ Dayë³„ ëª©ë¡ ë³´ê¸° êµ¬í˜„

### 3. Day ë²ˆí˜¸ í—¤ë”ì— ë¯¸ë°˜ì˜
- **í˜„ì¬**: í—¤ë”ì— "Day 1" ê³ ì • í‘œì‹œ
- **ê°œì„  í•„ìš”**: ì‹¤ì œ Day ë²ˆí˜¸ í‘œì‹œ ë¡œì§ ì¶”ê°€

## ğŸ‰ Week 1 ì™„ë£Œ!

**ì¶•í•˜í•©ë‹ˆë‹¤!** Phase 1 Week 1ì„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤! ğŸŠ

### ì™„ì„±ëœ ê¸°ëŠ¥
âœ… í™˜ê²½ ì„¤ì • ë° í”„ë¡œì íŠ¸ ì´ˆê¸°í™”  
âœ… í•™ìƒ í•™ìŠµ í™”ë©´ (ì™„ì „ ì‘ë™)  
âœ… Skip ëª¨ë‹¬ (1-2íšŒ, 3-4íšŒ)  
âœ… ì¼ì¼ ëª©í‘œ ë‹¬ì„± ë° ì¶•í•˜ ëª¨ë‹¬  
âœ… ì™„ì„± ë‹¨ì–´ì¥ ìë™ ìƒì„±  

### ë‹¤ìŒ ë‹¨ê³„: Week 2

Day 8-9 ì˜¨ë¼ì¸ í‰ê°€ë¥¼ ì‹œì‘í•˜ë ¤ë©´:

```
"Week 2 Day 8-9 ì˜¨ë¼ì¸ í‰ê°€ ê°œë°œ ì‹œì‘í•´ì¤˜"
```

ë˜ëŠ”:

```
"ì˜¨ë¼ì¸ í‰ê°€ í™”ë©´ë¶€í„° ë§Œë“¤ì–´ì¤˜"
```

---

**í˜„ì¬ ì§„í–‰ë¥ : Phase 1 Week 1 ì™„ë£Œ (ì „ì²´ 20%)**

**ğŸ¯ Week 1 ëª©í‘œ 100% ë‹¬ì„±!**

